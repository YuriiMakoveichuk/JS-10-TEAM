import{i as a}from"./assets/vendor-ad859c2f.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))n(t);new MutationObserver(t=>{for(const r of t)if(r.type==="childList")for(const s of r.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function c(t){const r={};return t.integrity&&(r.integrity=t.integrity),t.referrerPolicy&&(r.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?r.credentials="include":t.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function n(t){if(t.ep)return;t.ep=!0;const r=c(t);fetch(t.href,r)}})();function f(o,e){const c="LxvKVGJqiSe6NcEVZOaLXC-f2JIIWZaq_o0WrF8mwJc",n="https://api.unsplash.com",t="/search/photos",r=new URLSearchParams({client_id:c,query:o,page:e,per_page:12,orientation:"portrait"});return fetch(`${n}${t}?${r}`).then(s=>{if(!s.ok)throw new Error(s.status);return s.json()})}const p=document.querySelector("form"),l=document.querySelector(".js-gallery"),h=document.querySelector(".loader"),d=document.querySelector(".js-load-more");function m(o){return o.map(e=>` <li class='gallery__item'>
    <img src='${e.urls.small}' alt='${e.alt_description}' class='gallery-img' />
  </li>`).join("")}function g(){h.classList.remove("is-hidden")}function y(){h.classList.add("is-hidden")}function L(){d.classList.remove("is-hidden")}function E(){d.classList.add("is-hidden")}let i=1,u=null;p.addEventListener("submit",o=>{o.preventDefault(),l.innerHTML="",g(),i=1,u=o.currentTarget.elements["user-search-query"].value.trim(),f(u,i).then(e=>{e.total>0&&a.success({position:"topRight",message:`We find ${e.total} photos`}),e.results.length===0&&a.error({position:"topRight",message:"Sorry, there are no images matching your search query. Please try again!"}),l.innerHTML=m(e.results),e.total>12&&L()}).catch(e=>console.log(e)).finally(()=>{o.target.reset(),y()})});d.addEventListener("click",()=>{i++,f(u,i).then(o=>{l.insertAdjacentHTML("beforeend",m(o.results));const e=Math.ceil(o.total/12);i===e&&(E(),a.info({position:"topRight",message:"We're sorry, but you've reached the end of search results."}))})});
//# sourceMappingURL=commonHelpers.js.map
